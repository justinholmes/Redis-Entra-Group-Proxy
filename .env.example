# Redis Entra Proxy Configuration

# Listening address for the proxy
LISTEN_ADDR=0.0.0.0:6388

# Azure AD / Entra configuration
TENANT_ID=your-tenant-id
EXPECTED_AUDIENCE=api://your-app-id

# Comma-separated list of required Azure AD group object IDs
REQUIRED_GROUP_IDS=group1-guid,group2-guid

# Redis backend configuration
REDIS_HOSTPORT=your-redis.redis.cache.windows.net:6380
REDIS_HOSTNAME=your-redis.redis.cache.windows.net

# User-assigned managed identity client ID (optional)
# UAMI_CLIENT_ID=your-uami-client-id

# The object ID of the managed identity or service principal that is granted access to Redis
REDIS_AAD_OBJECT_ID=your-managed-identity-object-id

# For non-Azure environments: provide a token directly
# This will bypass the IMDS token acquisition
#LOCAL_REDIS_TOKEN=your-redis-access-token

# Set this to obtain a Redis access token via another method
LOCAL_REDIS_TOKEN_COMMAND=az account get-access-token --resource https://redis.azure.com --query accessToken -o tsv
